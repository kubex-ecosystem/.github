(()=>{var e={};e.id=507,e.ids=[507],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19572:(e,r,s)=>{"use strict";s.r(r),s.d(r,{patchFetch:()=>g,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>l});var t={};s.r(t),s.d(t,{POST:()=>d});var o=s(96559),a=s(48088),n=s(37719),i=s(32190);class u{FS_CHAR="\x1c";markerRegex=RegExp(`^\\/\\/${this.FS_CHAR.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\/ (.+?) \\/${this.FS_CHAR.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\/\\/$`);validateAICode(e){let r={isValid:!1,markerCount:0,estimatedFiles:0,errors:[],warnings:[],projectStructure:[]};try{let s=e.split("\n"),t=[],o=[];for(let e=0;e<s.length;e++){let a=s[e].match(this.markerRegex);if(a){let e=a[1];r.markerCount++,t.includes(e)?(o.push(e),r.errors.push(`Arquivo duplicado encontrado: ${e}`)):(t.push(e),r.projectStructure.push(e)),e.includes("..")&&r.errors.push(`Nome de arquivo inseguro: ${e}`),[".js",".ts",".jsx",".tsx",".py",".go",".java",".cpp",".c",".h",".css",".scss",".html",".md",".json",".yml",".yaml",".xml",".txt",".env",".gitignore",".dockerfile"].some(r=>e.toLowerCase().endsWith(r))||e.includes("/")||r.warnings.push(`Extens\xe3o de arquivo desconhecida: ${e}`)}}r.estimatedFiles=t.length,0===r.markerCount?r.errors.push("Nenhum marcador de arquivo encontrado no c\xf3digo"):r.markerCount<3&&r.warnings.push("Projeto muito pequeno (menos de 3 arquivos)"),o.length>0&&r.errors.push(`Arquivos duplicados: ${o.join(", ")}`);let a=t.some(e=>e.endsWith("package.json")),n=t.some(e=>e.includes("index.")||e.includes("main.")||e.includes("app.")),i=t.some(e=>e.toLowerCase().includes("readme"));!a&&t.some(e=>e.endsWith(".js")||e.endsWith(".ts"))&&r.warnings.push("Projeto JavaScript/TypeScript sem package.json"),n||r.warnings.push("Nenhum arquivo principal identificado"),i||r.warnings.push("Projeto sem README"),r.isValid=0===r.errors.length&&r.markerCount>0}catch(e){r.errors.push(`Erro ao processar c\xf3digo: ${e}`)}return r}extractProjectInfo(e){let r=e.split("\n"),s={name:"Unknown Project",description:"",language:"Unknown",framework:"Unknown",estimatedSize:e.length};for(let e of r.slice(0,10))e.includes("# ")&&!s.name.includes("Unknown")&&(s.name=e.replace("# ","").trim()),(e.includes("package.json")||e.includes(".js")||e.includes(".ts"))&&(s.language="JavaScript/TypeScript"),(e.includes("react")||e.includes("React"))&&(s.framework="React"),(e.includes("next")||e.includes("Next"))&&(s.framework="Next.js"),(e.includes("vue")||e.includes("Vue"))&&(s.framework="Vue.js");return s}}async function d(e){try{let{code:r}=await e.json();if(!r||"string"!=typeof r)return i.NextResponse.json({error:"Code content required"},{status:400});let s=new u,t=s.validateAICode(r),o=s.extractProjectInfo(r);return i.NextResponse.json({success:!0,validation:t,projectInfo:o,suggestions:function(e,r){let s=[];return e.isValid||(s.push("\uD83D\uDD27 C\xf3digo n\xe3o cont\xe9m marcadores v\xe1lidos do LookAtni"),s.push("\uD83D\uDCA1 Pe\xe7a para a IA gerar c\xf3digo com marcadores invis\xedveis")),e.warnings.length>0&&s.push("âš ï¸ H\xe1 alguns avisos sobre a estrutura do projeto"),e.markerCount>0&&(s.push(`âœ… ${e.markerCount} arquivos detectados`),s.push('\uD83D\uDE80 Clique em "Extrair Projeto" para baixar')),"Unknown"!==r.framework&&s.push(`ðŸŽ¯ Projeto ${r.framework} detectado`),s}(t,o)})}catch(e){return i.NextResponse.json({error:"Failed to validate AI code",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/validate-ai-code/route",pathname:"/api/validate-ai-code",filename:"route",bundlePath:"app/api/validate-ai-code/route"},resolvedPagePath:"/srv/apps/LIFE/RAFA-MORI/rafa-mori/src/app/api/validate-ai-code/route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:p,workUnitAsyncStorage:l,serverHooks:m}=c;function g(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:l})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,580],()=>s(19572));module.exports=t})();